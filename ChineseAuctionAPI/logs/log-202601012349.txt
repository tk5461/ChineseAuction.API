2026-01-01 23:49:05.728 +02:00 [INF] The application has started successfully!
2026-01-01 23:49:05.937 +02:00 [INF] User profile is available. Using 'C:\Users\1\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-01 23:49:06.218 +02:00 [INF] Now listening on: https://localhost:7157
2026-01-01 23:49:06.219 +02:00 [INF] Now listening on: http://localhost:5183
2026-01-01 23:49:06.308 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-01 23:49:06.310 +02:00 [INF] Hosting environment: Development
2026-01-01 23:49:06.311 +02:00 [INF] Content root path: C:\Users\1\OneDrive\Desktop\projects\Finish Project !!\ChineseAuctionAPI\ChineseAuctionAPI
2026-01-01 23:49:06.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7157/swagger/index.html - null null
2026-01-01 23:49:06.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7157/swagger/index.html - 200 null text/html;charset=utf-8 155.3284ms
2026-01-01 23:49:06.877 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7157/_framework/aspnetcore-browser-refresh.js - null null
2026-01-01 23:49:06.877 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7157/_vs/browserLink - null null
2026-01-01 23:49:06.885 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7157/_framework/aspnetcore-browser-refresh.js - 200 16519 application/javascript; charset=utf-8 8.5038ms
2026-01-01 23:49:06.911 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7157/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.7899ms
2026-01-01 23:49:06.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7157/swagger/v1/swagger.json - null null
2026-01-01 23:49:06.974 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7157/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.599ms
2026-01-01 23:49:48.196 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7157/api/Order/add-gift - application/json 50
2026-01-01 23:49:48.331 +02:00 [INF] Executing endpoint 'ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI)'
2026-01-01 23:49:48.349 +02:00 [INF] Route matched with {action = "AddOrUpdateGift", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdateGift(ChineseAuctionAPI.DTO.AddGiftRequest) on controller ChineseAuctionAPI.Controllers.OrderController (ChineseAuctionAPI).
2026-01-01 23:49:49.453 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[OrderId], [o0].[Status], [o0].[dateTime], [o0].[price], [o0].[userId], [g].[IdGiftOrder], [g].[Amount], [g].[IdGift], [g].[OrderId]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[Status], [o].[dateTime], [o].[price], [o].[userId]
    FROM [Orders] AS [o]
    WHERE [o].[userId] = @__userId_0 AND [o].[Status] = 0
) AS [o0]
LEFT JOIN [Gifts_Orders] AS [g] ON [o0].[OrderId] = [g].[OrderId]
ORDER BY [o0].[OrderId]
2026-01-01 23:49:49.552 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[IdGift], [g].[CategoryId], [g].[Description], [g].[IdDonor], [g].[Image], [g].[IsDrawn], [g].[Name], [g].[PackageIdPackage], [g].[Quantity], [g].[price], [g].[userId]
FROM [Gifts] AS [g]
WHERE [g].[IdGift] = @__p_0
2026-01-01 23:49:49.682 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Gifts_Orders] ([Amount], [IdGift], [OrderId])
OUTPUT INSERTED.[IdGiftOrder]
VALUES (@p0, @p1, @p2);
UPDATE [Orders] SET [price] = @p3
OUTPUT 1
WHERE [OrderId] = @p4;
2026-01-01 23:49:49.715 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-01 23:49:49.722 +02:00 [INF] Executed action ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI) in 1367.7399ms
2026-01-01 23:49:49.724 +02:00 [INF] Executed endpoint 'ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI)'
2026-01-01 23:49:49.732 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7157/api/Order/add-gift - 200 null text/plain; charset=utf-8 1535.3044ms
2026-01-01 23:49:52.523 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7157/api/Order/add-gift - application/json 50
2026-01-01 23:49:52.529 +02:00 [INF] Executing endpoint 'ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI)'
2026-01-01 23:49:52.530 +02:00 [INF] Route matched with {action = "AddOrUpdateGift", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdateGift(ChineseAuctionAPI.DTO.AddGiftRequest) on controller ChineseAuctionAPI.Controllers.OrderController (ChineseAuctionAPI).
2026-01-01 23:49:52.550 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[OrderId], [o0].[Status], [o0].[dateTime], [o0].[price], [o0].[userId], [g].[IdGiftOrder], [g].[Amount], [g].[IdGift], [g].[OrderId]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[Status], [o].[dateTime], [o].[price], [o].[userId]
    FROM [Orders] AS [o]
    WHERE [o].[userId] = @__userId_0 AND [o].[Status] = 0
) AS [o0]
LEFT JOIN [Gifts_Orders] AS [g] ON [o0].[OrderId] = [g].[OrderId]
ORDER BY [o0].[OrderId]
2026-01-01 23:49:52.553 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[IdGift], [g].[CategoryId], [g].[Description], [g].[IdDonor], [g].[Image], [g].[IsDrawn], [g].[Name], [g].[PackageIdPackage], [g].[Quantity], [g].[price], [g].[userId]
FROM [Gifts] AS [g]
WHERE [g].[IdGift] = @__p_0
2026-01-01 23:49:52.559 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Gifts_Orders] SET [Amount] = @p0
OUTPUT 1
WHERE [IdGiftOrder] = @p1;
UPDATE [Orders] SET [price] = @p2
OUTPUT 1
WHERE [OrderId] = @p3;
2026-01-01 23:49:52.561 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-01 23:49:52.562 +02:00 [INF] Executed action ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI) in 30.0766ms
2026-01-01 23:49:52.563 +02:00 [INF] Executed endpoint 'ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI)'
2026-01-01 23:49:52.564 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7157/api/Order/add-gift - 200 null text/plain; charset=utf-8 41.294ms
2026-01-01 23:49:52.714 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7157/api/Order/add-gift - application/json 50
2026-01-01 23:49:52.725 +02:00 [INF] Executing endpoint 'ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI)'
2026-01-01 23:49:52.726 +02:00 [INF] Route matched with {action = "AddOrUpdateGift", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdateGift(ChineseAuctionAPI.DTO.AddGiftRequest) on controller ChineseAuctionAPI.Controllers.OrderController (ChineseAuctionAPI).
2026-01-01 23:49:52.772 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[OrderId], [o0].[Status], [o0].[dateTime], [o0].[price], [o0].[userId], [g].[IdGiftOrder], [g].[Amount], [g].[IdGift], [g].[OrderId]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[Status], [o].[dateTime], [o].[price], [o].[userId]
    FROM [Orders] AS [o]
    WHERE [o].[userId] = @__userId_0 AND [o].[Status] = 0
) AS [o0]
LEFT JOIN [Gifts_Orders] AS [g] ON [o0].[OrderId] = [g].[OrderId]
ORDER BY [o0].[OrderId]
2026-01-01 23:49:52.776 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[IdGift], [g].[CategoryId], [g].[Description], [g].[IdDonor], [g].[Image], [g].[IsDrawn], [g].[Name], [g].[PackageIdPackage], [g].[Quantity], [g].[price], [g].[userId]
FROM [Gifts] AS [g]
WHERE [g].[IdGift] = @__p_0
2026-01-01 23:49:52.779 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Gifts_Orders] SET [Amount] = @p0
OUTPUT 1
WHERE [IdGiftOrder] = @p1;
UPDATE [Orders] SET [price] = @p2
OUTPUT 1
WHERE [OrderId] = @p3;
2026-01-01 23:49:52.783 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2026-01-01 23:49:52.784 +02:00 [INF] Executed action ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI) in 56.8649ms
2026-01-01 23:49:52.785 +02:00 [INF] Executed endpoint 'ChineseAuctionAPI.Controllers.OrderController.AddOrUpdateGift (ChineseAuctionAPI)'
2026-01-01 23:49:52.786 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7157/api/Order/add-gift - 200 null text/plain; charset=utf-8 72.2431ms
